<%
		GuestTourSpotReviewDao guesttourspotreviewdao = new GuestTourSpotReviewDao();
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm");
		for(GuestReviewDto guestreviewdto : list){
			
			
		%> 

		<table class="table table-bordered" style="width: 1200px;">
			<tr>
				<td>&nbsp;&nbsp;<b>&nbsp;<i class="bi bi-person-square"></i>&nbsp;&nbsp;<%=guestreviewdto.getNickname()%></b>
					<%
					String nickname = request.getParameter("nickname");
					String pass = request.getParameter("pass");
					

					//닉네임, 비밀번호가 같을경우에만 수정,삭제
					if (guestreviewdto.getNickname().equals(nickname) && guestreviewdto.getPass().equals(pass)) {
					%> <a
					href="index.jsp?main=tourReview/logoutTourSpotReviewUpdateForm.jsp?com_seq=<%=guestreviewdto.getCom_seq()%>&currentPage=<%=currentPage%>"
					style="color: green"><i class="bi bi-pencil-square"></i></a> <a
					href="tourReview/logoutTourSpotReviewDelete.jsp?com_seq=<%=guestreviewdto.getCom_seq()%>&currentPage=<%=currentPage%>"
					style="color: red"><i class="bi bi-trash-fill"></i></a> <%
 					}
 %> <span class="day"><%=sdf.format(guestreviewdto.getWriteday())%></span></td>
			</tr>

			<tr height="120">
				<td>
	<%-- 				 <%
 if (dto.getPhotoname() != null) {
 %> <a href="save/<%=dto.getPhotoname()%>" target="blank"> <img
						src="save/<%=dto.getPhotoname()%>" align="left"
						style="width: 100px; margin-top: 15px;" hspace="20" class="photo"></a> <%
 					}
 %>  --%>
 
 &nbsp;&nbsp;&nbsp;<%=guestreviewdto.getContent().replace("\n", "<br>")%>
				</td>
			</tr>
		<tr>
				<td>
					<%
					//각 방명록에 달린 댓글 목록 가져오기
					GuestCommentDao guestcommentdao = new GuestCommentDao();
					GuestCommentDto guestcommentdto = new GuestCommentDto();
					List<GuestCommentDto> glist = guestcommentdao.getAllGuestComments(guestcommentdto.getCom_seq());
					String writer = request.getParameter("writer");
					String pass2 = request.getParameter("pass2");
					%>

					<div class="comment">
					<%-- 	<%
						if (guestcommentdto.getWriter().equals(writer) && guestcommentdto.getPass().equals(pass)) {
						%> --%>

						<div class="guestcommentform">
							<form action="tourReview/guestCommentInsert.jsp" method="post">
								<table class="table table-bordered" style="width: 500px;">
									<tr>
										<td><textarea style="width: 500px; height: 80px;"
												name="content" required="required" class="form-control"></textarea></td>
										<td>
											<button type="submit" class="btn btn-success"
												style="width: 80px; height: 80px;">등록</button> <!--hidden값 3개-->
											<input type="hidden" name="com_seq" value="<%=guestcommentdto.getCom_seq()%>">
											<input type="hidden" name="writer" value="<%=guestcommentdto.getWriter()%>"> 
											<input type="hidden" name="currentPage" value="<%=currentPage%>">
										</td>
									</tr>
									
								</table>
							</form>
						</div>
						

						<%-- <div class="commentlist" >
							<table class="table" style="width: 480px;">
								<% 
						for(GuestCommentDto gcommentdto:glist)
						{%>
								<tr>
									<td width="60">
									<i class="bi bi-person-circle" style="font-size: 20pt"></i>
									</td>
									<td>
									<%
									//작성자명
									String nickname=gdao.(adto.getMyid());
									%>
									<br>
									<b><%=aname %></b>
									&nbsp;
									<%
									//글쓴이와 댓글쓴이가 같을 경우 [작성자]
											if(gcommentdto.getWriter().equals(gcommentdto.getWriter()))
											{%>
												<b><span style="color:red; border: 1px solid red; border-radius: 20px; font-size:5pt;">작성자</span></b>
												
											<%}
									%>
									
									<span style="font-size: 9pt; color: gray; margin-left:30px;"><%=sdf.format(gcommentdto.getWriteday()) %></span>
									<br>
									<span><%=gcommentdto.getGuestcomment() %></span>
									<%
									//수정 삭제는 로그인중이면서 로그인한 아이디와 같은 경우만 보이게
									if(gcommentdto.getWriter().equals(writer) && gcommentdto.getPass().equals(pass)){%>
										<i class="bi bi-trash3 adel" style="cursor:pointer; margin-left: 100px;"
										idx=<%=gcommentdto.getCom_seq() %>></i> &nbsp;
										<i class="bi bi-pencil-square amod" style="cursor:pointer;" data-bs-target="#myModal" data-bs-toggle="modal"
										idx="<%=gcommentdto.getCom_seq() %>" ></i>
									
									<%}
									%>
									</td>
								</tr>
								<%}
						%>
							</table> --%>
						</div>

					</div> 
					<span class="guestcomment" style="cursor: pointer;"
					num=<%=guestcommentdto.getCom_seq()%>>&nbsp;&nbsp;&nbsp;<i class="bi bi-chat-dots-fill"
						style=""></i>&nbsp;&nbsp;댓글 <%=glist.size() %></span> <span class="likes"
					style="margin-left: 20px; cursor: pointer"
					;
              num=<%=guestcommentdto.getCom_seq()%>>&nbsp;&nbsp;<i
						class="bi bi-hand-thumbs-up-fill"></i>&nbsp;&nbsp;추천</span>

				<%-- 	<span class="chu"><%=GuestCommentDto.getLikes()%></span> <i
					class="bi bi-heart-fill" style="color: red; font-size: 0px;"></i> --%>
				</td>
			</tr>


		</table>
		<%
		} 
		%>
	</div>

			</table>

		</div>